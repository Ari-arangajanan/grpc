package org.example.grpc.server;import com.devProblems.UserReq;import com.devProblems.UserRes;import com.devProblems.UserServiceGrpc;import com.google.protobuf.ByteString;import io.grpc.stub.StreamObserver;import net.devh.boot.grpc.server.service.GrpcService;import org.example.model.Account;import org.example.service.AccountService;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.util.SerializationUtils;import java.util.Objects;@GrpcServicepublic class AccountGrpcServer extends UserServiceGrpc.UserServiceImplBase {    @Autowired    private AccountService accountService;    @Override    public void saveUserAccount(UserReq request, StreamObserver<UserRes> responseObserver) {        try {            Integer authorId = request.getId();            String name = request.getName();            Account account = new Account();            account.setName(name);            account.setAgentId(authorId);            boolean isSave = accountService.insert(account);            UserRes.Builder response = UserRes.newBuilder();            response.setUserResponse(ByteString.copyFrom(Objects.requireNonNull(SerializationUtils.serialize(isSave))));            responseObserver.onNext(response.build());        }catch (Exception e){            responseObserver.onNext(null);            responseObserver.onError(e);            throw new RuntimeException(e.getMessage());        }finally {            responseObserver.onCompleted();        }    }}